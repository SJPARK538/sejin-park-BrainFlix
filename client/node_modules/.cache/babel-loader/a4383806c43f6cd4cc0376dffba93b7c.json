{"ast":null,"code":"var _jsxFileName = \"/Users/PSJ/Desktop/Brainstation/sejin-park-brainflix/src/pages/page/Home.js\";\nimport React from \"react\";\nimport Hero from \"../../components/Hero/Hero\";\nimport Main from \"../../components/Main/Main\";\nimport Comments from \"../../components/Comments/Comments\";\nimport SideVideo from \"../../components/SideVideo/SideVideo\";\nimport axios from \"axios\"; // API KEY \"api_key\": \"cfddcce4-2fac-4b3f-8b69-8f2abdd9b1d9\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet apiUrl = \"https://project-2-api.herokuapp.com\";\nlet apiKey = \"api_key=cfddcce4-2fac-4b3f-8b69-8f2abdd9b1d9\";\n\nclass Home extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      sideVideos: [],\n      selectedVideo: [],\n      allVideos: [],\n      comments: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`${apiUrl}/videos?${apiKey}`) //Get all sidevideos array \n    .then(response => {\n      const allVideos = response.data;\n      axios.get(`${apiUrl}/videos/84e96018-4022-434e-80bf-000ce4cd12b8?${apiKey}`) // Get main video content info\n      .then(response => {\n        let sideVideos = allVideos.filter(video => video.id !== \"84e96018-4022-434e-80bf-000ce4cd12b8\"); //Get sidevideos except selected video   \n\n        const selectedVideo = response.data; //selected video (mainvideo)\n\n        const comments = response.data.comments;\n        this.setState({\n          sideVideos,\n          selectedVideo: [selectedVideo],\n          allVideos,\n          comments\n        });\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match !== this.props.match) {\n      axios.get(`${apiUrl}/videos/${this.props.match.params.id}?${apiKey}`).then(response => {\n        const selectedVideo = response.data;\n        const comments = response.data.comments;\n        let sideVideos = this.state.allVideos.filter(video => video.id !== this.props.match.params.id);\n        this.setState({\n          sideVideos,\n          selectedVideo: [selectedVideo],\n          comments\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Hero, {\n        hero: this.state.sideVideos[0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        mainDisplayId: this.state.selectedVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Comments, {\n        comments: this.state.comments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(SideVideo, {\n        sideVideos: this.state.sideVideos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"names":["React","Hero","Main","Comments","SideVideo","axios","apiUrl","apiKey","Home","Component","state","sideVideos","selectedVideo","allVideos","comments","componentDidMount","get","then","response","data","filter","video","id","setState","componentDidUpdate","prevProps","match","props","params","render"],"sources":["/Users/PSJ/Desktop/Brainstation/sejin-park-brainflix/src/pages/page/Home.js"],"sourcesContent":["import React from \"react\";\nimport Hero from \"../../components/Hero/Hero\";\nimport Main from \"../../components/Main/Main\";\nimport Comments from \"../../components/Comments/Comments\";\nimport SideVideo from \"../../components/SideVideo/SideVideo\";\nimport axios from \"axios\";\n\n// API KEY \"api_key\": \"cfddcce4-2fac-4b3f-8b69-8f2abdd9b1d9\"\n\nlet apiUrl = \"https://project-2-api.herokuapp.com\";\nlet apiKey =\"api_key=cfddcce4-2fac-4b3f-8b69-8f2abdd9b1d9\";\n\n\nclass Home extends React.Component {\n    state = {\n        sideVideos: [],\n        selectedVideo: [],\n        allVideos: [],\n        comments: []\n    };\n\ncomponentDidMount(){\n    axios\n    .get(`${apiUrl}/videos?${apiKey}`)    //Get all sidevideos array \n    .then (response =>{\n        const allVideos = response.data;   \n\n        axios\n        .get (`${apiUrl}/videos/84e96018-4022-434e-80bf-000ce4cd12b8?${apiKey}`) // Get main video content info\n        .then(response => {\n            let sideVideos = allVideos.filter(video => video.id !==\"84e96018-4022-434e-80bf-000ce4cd12b8\");     //Get sidevideos except selected video   \n            const selectedVideo= response.data;   //selected video (mainvideo)\n            const comments = response.data.comments\n            this.setState({sideVideos, selectedVideo:[selectedVideo], allVideos, comments});\n        });\n    });\n}\n\ncomponentDidUpdate(prevProps){\n    if(prevProps.match !== this.props.match){\n        axios\n        .get(`${apiUrl}/videos/${this.props.match.params.id}?${apiKey}`)\n        .then (response => {\n            const selectedVideo = response.data;\n            const comments=response.data.comments;\n            let sideVideos = this.state.allVideos.filter(video => video.id !== this.props.match.params.id);\n            this.setState({sideVideos, selectedVideo:[selectedVideo], comments});\n        });\n    }\n}\n\nrender(){\nreturn (\n    <>\n    <Hero hero={this.state.sideVideos[0]} />\n    <Main mainDisplayId={this.state.selectedVideo}/>\n    <Comments  comments={this.state.comments}/>\n    <SideVideo  sideVideos={this.state.sideVideos}/>\n    </>\n );\n}\n}\n\n\n\nexport default Home;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;;;AAEA,IAAIC,MAAM,GAAG,qCAAb;AACA,IAAIC,MAAM,GAAE,8CAAZ;;AAGA,MAAMC,IAAN,SAAmBR,KAAK,CAACS,SAAzB,CAAmC;EAAA;IAAA;IAAA,KAC/BC,KAD+B,GACvB;MACJC,UAAU,EAAE,EADR;MAEJC,aAAa,EAAE,EAFX;MAGJC,SAAS,EAAE,EAHP;MAIJC,QAAQ,EAAE;IAJN,CADuB;EAAA;;EAQnCC,iBAAiB,GAAE;IACfV,KAAK,CACJW,GADD,CACM,GAAEV,MAAO,WAAUC,MAAO,EADhC,EACsC;IADtC,CAECU,IAFD,CAEOC,QAAQ,IAAG;MACd,MAAML,SAAS,GAAGK,QAAQ,CAACC,IAA3B;MAEAd,KAAK,CACJW,GADD,CACO,GAAEV,MAAO,gDAA+CC,MAAO,EADtE,EACyE;MADzE,CAECU,IAFD,CAEMC,QAAQ,IAAI;QACd,IAAIP,UAAU,GAAGE,SAAS,CAACO,MAAV,CAAiBC,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAY,sCAAtC,CAAjB,CADc,CACsF;;QACpG,MAAMV,aAAa,GAAEM,QAAQ,CAACC,IAA9B,CAFc,CAEwB;;QACtC,MAAML,QAAQ,GAAGI,QAAQ,CAACC,IAAT,CAAcL,QAA/B;QACA,KAAKS,QAAL,CAAc;UAACZ,UAAD;UAAaC,aAAa,EAAC,CAACA,aAAD,CAA3B;UAA4CC,SAA5C;UAAuDC;QAAvD,CAAd;MACH,CAPD;IAQH,CAbD;EAcH;;EAEDU,kBAAkB,CAACC,SAAD,EAAW;IACzB,IAAGA,SAAS,CAACC,KAAV,KAAoB,KAAKC,KAAL,CAAWD,KAAlC,EAAwC;MACpCrB,KAAK,CACJW,GADD,CACM,GAAEV,MAAO,WAAU,KAAKqB,KAAL,CAAWD,KAAX,CAAiBE,MAAjB,CAAwBN,EAAG,IAAGf,MAAO,EAD9D,EAECU,IAFD,CAEOC,QAAQ,IAAI;QACf,MAAMN,aAAa,GAAGM,QAAQ,CAACC,IAA/B;QACA,MAAML,QAAQ,GAACI,QAAQ,CAACC,IAAT,CAAcL,QAA7B;QACA,IAAIH,UAAU,GAAG,KAAKD,KAAL,CAAWG,SAAX,CAAqBO,MAArB,CAA4BC,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAa,KAAKK,KAAL,CAAWD,KAAX,CAAiBE,MAAjB,CAAwBN,EAA1E,CAAjB;QACA,KAAKC,QAAL,CAAc;UAACZ,UAAD;UAAaC,aAAa,EAAC,CAACA,aAAD,CAA3B;UAA4CE;QAA5C,CAAd;MACH,CAPD;IAQH;EACJ;;EAEDe,MAAM,GAAE;IACR,oBACI;MAAA,wBACA,QAAC,IAAD;QAAM,IAAI,EAAE,KAAKnB,KAAL,CAAWC,UAAX,CAAsB,CAAtB;MAAZ;QAAA;QAAA;QAAA;MAAA,QADA,eAEA,QAAC,IAAD;QAAM,aAAa,EAAE,KAAKD,KAAL,CAAWE;MAAhC;QAAA;QAAA;QAAA;MAAA,QAFA,eAGA,QAAC,QAAD;QAAW,QAAQ,EAAE,KAAKF,KAAL,CAAWI;MAAhC;QAAA;QAAA;QAAA;MAAA,QAHA,eAIA,QAAC,SAAD;QAAY,UAAU,EAAE,KAAKJ,KAAL,CAAWC;MAAnC;QAAA;QAAA;QAAA;MAAA,QAJA;IAAA,gBADJ;EAQC;;AA/CkC;;AAoDnC,eAAeH,IAAf"},"metadata":{},"sourceType":"module"}