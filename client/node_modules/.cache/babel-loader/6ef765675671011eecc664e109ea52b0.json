{"ast":null,"code":"var _jsxFileName = \"/Users/PSJ/Desktop/Brainstation/sejin-park-brainflix/src/components/Home/Home.js\";\nimport React from \"react\";\nimport Hero from \"../Hero/Hero\";\nimport Main from \"../Main/Main\";\nimport Comments from \"../Comments/Comments\";\nimport SideVideo from \"../SideVideo/SideVideo\";\nimport axios from \"axios\"; // API KEY \"api_key\": \"cfddcce4-2fac-4b3f-8b69-8f2abdd9b1d9\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet apiUrl = \"https://project-2-api.herokuapp.com\";\nlet apiKey = \"api_key=cfddcce4-2fac-4b3f-8b69-8f2abdd9b1d9\";\n\nclass Home extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      sideVideos: [],\n      selectedVideo: [],\n      allVideos: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`${apiUrl}/videos?${apiKey}`).then(response => {\n      const allVideos = response.data;\n      axios.get(`${apiUrl}/videos/${allVideos[0].id}?${apiKey}`).then(response => {\n        let sideVideos = allVideos.filter(video => video.id !== `${allVideos[0].id}`);\n        const selectedVideo = response.data;\n        this.setState({\n          sideVideos,\n          selectedVideo,\n          allVideos\n        });\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.id !== this.props.match.params.id) {\n      axios.get(`${apiUrl}/videos/${this.props.match.params.id}?${apiKey}`).then(response => {\n        const selectedVideo = response.data;\n        let sideVideos = this.state.allVideos.filter(video => video.id !== this.props.match.params.id);\n        this.setState({\n          sideVideos,\n          selectedVideo\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.state.selectedVideo ? /*#__PURE__*/_jsxDEV(Hero, {\n        hero: this.state.selectedVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 32\n      }, this) : null, this.state.selectedVideo ? /*#__PURE__*/_jsxDEV(Main, {\n        main: this.state.selectedVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 32\n      }, this) : null, this.state.selectedVideo ? /*#__PURE__*/_jsxDEV(Comments, {\n        comments: this.state.selectedVideo.comments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 32\n      }, this) : null, /*#__PURE__*/_jsxDEV(SideVideo, {\n        sideVideos: this.state.sideVideos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"names":["React","Hero","Main","Comments","SideVideo","axios","apiUrl","apiKey","Home","Component","state","sideVideos","selectedVideo","allVideos","componentDidMount","get","then","response","data","id","filter","video","setState","componentDidUpdate","prevProps","match","params","props","render","comments"],"sources":["/Users/PSJ/Desktop/Brainstation/sejin-park-brainflix/src/components/Home/Home.js"],"sourcesContent":["import React from \"react\";\nimport Hero from \"../Hero/Hero\";\nimport Main from \"../Main/Main\";\nimport Comments from \"../Comments/Comments\";\nimport SideVideo from \"../SideVideo/SideVideo\";\nimport axios from \"axios\";\n\n// API KEY \"api_key\": \"cfddcce4-2fac-4b3f-8b69-8f2abdd9b1d9\"\n\nlet apiUrl = \"https://project-2-api.herokuapp.com\";\nlet apiKey =\"api_key=cfddcce4-2fac-4b3f-8b69-8f2abdd9b1d9\";\n\n\nclass Home extends React.Component {\n    state = {\n        sideVideos: [],\n        selectedVideo: [],\n        allVideos: [],\n    };\n\ncomponentDidMount(){\n    axios\n    .get(`${apiUrl}/videos?${apiKey}`)   \n    .then (response =>{\n        const allVideos = response.data;   \n\n        axios\n        .get (`${apiUrl}/videos/${allVideos[0].id}?${apiKey}`) \n        .then(response => {\n            let sideVideos = allVideos.filter(video => video.id !==`${allVideos[0].id}`);     \n            const selectedVideo= response.data;  \n            this.setState({sideVideos, selectedVideo, allVideos});\n        });\n    });\n}\n\ncomponentDidUpdate(prevProps){\n    if(prevProps.match.params.id !== this.props.match.params.id){\n        axios\n        .get(`${apiUrl}/videos/${this.props.match.params.id}?${apiKey}`)\n        .then (response => {\n            const selectedVideo = response.data;\n            let sideVideos = this.state.allVideos.filter(video => video.id !== this.props.match.params.id);\n            this.setState({sideVideos, selectedVideo});\n        });\n    }\n}\n\nrender(){\nreturn (\n    <>\n    {this.state.selectedVideo ?<Hero  hero={this.state.selectedVideo}/>: null}\n    {this.state.selectedVideo ?<Main  main={this.state.selectedVideo}/>: null}\n    {this.state.selectedVideo ?<Comments  comments={this.state.selectedVideo.comments}/>: null}\n    <SideVideo  sideVideos={this.state.sideVideos}/>\n    </>\n );\n}\n}\n\n\nexport default Home;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;;;AAEA,IAAIC,MAAM,GAAG,qCAAb;AACA,IAAIC,MAAM,GAAE,8CAAZ;;AAGA,MAAMC,IAAN,SAAmBR,KAAK,CAACS,SAAzB,CAAmC;EAAA;IAAA;IAAA,KAC/BC,KAD+B,GACvB;MACJC,UAAU,EAAE,EADR;MAEJC,aAAa,EAAE,EAFX;MAGJC,SAAS,EAAE;IAHP,CADuB;EAAA;;EAOnCC,iBAAiB,GAAE;IACfT,KAAK,CACJU,GADD,CACM,GAAET,MAAO,WAAUC,MAAO,EADhC,EAECS,IAFD,CAEOC,QAAQ,IAAG;MACd,MAAMJ,SAAS,GAAGI,QAAQ,CAACC,IAA3B;MAEAb,KAAK,CACJU,GADD,CACO,GAAET,MAAO,WAAUO,SAAS,CAAC,CAAD,CAAT,CAAaM,EAAG,IAAGZ,MAAO,EADpD,EAECS,IAFD,CAEMC,QAAQ,IAAI;QACd,IAAIN,UAAU,GAAGE,SAAS,CAACO,MAAV,CAAiBC,KAAK,IAAIA,KAAK,CAACF,EAAN,KAAa,GAAEN,SAAS,CAAC,CAAD,CAAT,CAAaM,EAAG,EAAzD,CAAjB;QACA,MAAMP,aAAa,GAAEK,QAAQ,CAACC,IAA9B;QACA,KAAKI,QAAL,CAAc;UAACX,UAAD;UAAaC,aAAb;UAA4BC;QAA5B,CAAd;MACH,CAND;IAOH,CAZD;EAaH;;EAEDU,kBAAkB,CAACC,SAAD,EAAW;IACzB,IAAGA,SAAS,CAACC,KAAV,CAAgBC,MAAhB,CAAuBP,EAAvB,KAA8B,KAAKQ,KAAL,CAAWF,KAAX,CAAiBC,MAAjB,CAAwBP,EAAzD,EAA4D;MACxDd,KAAK,CACJU,GADD,CACM,GAAET,MAAO,WAAU,KAAKqB,KAAL,CAAWF,KAAX,CAAiBC,MAAjB,CAAwBP,EAAG,IAAGZ,MAAO,EAD9D,EAECS,IAFD,CAEOC,QAAQ,IAAI;QACf,MAAML,aAAa,GAAGK,QAAQ,CAACC,IAA/B;QACA,IAAIP,UAAU,GAAG,KAAKD,KAAL,CAAWG,SAAX,CAAqBO,MAArB,CAA4BC,KAAK,IAAIA,KAAK,CAACF,EAAN,KAAa,KAAKQ,KAAL,CAAWF,KAAX,CAAiBC,MAAjB,CAAwBP,EAA1E,CAAjB;QACA,KAAKG,QAAL,CAAc;UAACX,UAAD;UAAaC;QAAb,CAAd;MACH,CAND;IAOH;EACJ;;EAEDgB,MAAM,GAAE;IACR,oBACI;MAAA,WACC,KAAKlB,KAAL,CAAWE,aAAX,gBAA0B,QAAC,IAAD;QAAO,IAAI,EAAE,KAAKF,KAAL,CAAWE;MAAxB;QAAA;QAAA;QAAA;MAAA,QAA1B,GAAoE,IADrE,EAEC,KAAKF,KAAL,CAAWE,aAAX,gBAA0B,QAAC,IAAD;QAAO,IAAI,EAAE,KAAKF,KAAL,CAAWE;MAAxB;QAAA;QAAA;QAAA;MAAA,QAA1B,GAAoE,IAFrE,EAGC,KAAKF,KAAL,CAAWE,aAAX,gBAA0B,QAAC,QAAD;QAAW,QAAQ,EAAE,KAAKF,KAAL,CAAWE,aAAX,CAAyBiB;MAA9C;QAAA;QAAA;QAAA;MAAA,QAA1B,GAAqF,IAHtF,eAIA,QAAC,SAAD;QAAY,UAAU,EAAE,KAAKnB,KAAL,CAAWC;MAAnC;QAAA;QAAA;QAAA;MAAA,QAJA;IAAA,gBADJ;EAQC;;AA5CkC;;AAgDnC,eAAeH,IAAf"},"metadata":{},"sourceType":"module"}